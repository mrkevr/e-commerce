<!DOCTYPE html>
<html xmlns:th="http://www.thyleaf.org">

<!-- Fragment : Header -->
<head th:replace="~{admin/admin-fragments::header}"></head>

<body class="sb-nav-fixed">
	
	<!-- Fragment : Top Nav -->
	<nav th:replace="~{admin/admin-fragments::topNav}"></nav>
	
	<div id="layoutSidenav">
		
		<!-- Fragment : Side Nav -->
		<div th:replace="~{admin/admin-fragments::sideNav}"></div>
		
		<div id="layoutSidenav_content">
			<main>
				<div class="container-fluid px-4">
				
					<!-- Breadcrumb -->
					<ol class="breadcrumb mt-4">
						<li class="breadcrumb-item"><a th:href="@{/admin/dashboard}">Dashboard</a></li>
						<li class="breadcrumb-item"><a th:href="@{/admin/orders}">Orders</a></li>
						<li class="breadcrumb-item active"><span th:text="${order.id}"></span></li>
                  	</ol>
				
				
				
					<div class="row mt-4 justify-content-center">
						
						<div class="col-xl-10 mb-3">
							<th:block th:switch="${order.orderStatus}">
								<!-- PENDING -->
  								<div th:case="${T(dev.mrkevr.ecommerce.entity.OrderStatus).PENDING}" class="progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
  									<div class="progress-bar" style="width: 0%">PENDING 0%</div>
								</div>
								<!-- ACCEPTED -->
								<div th:case="${T(dev.mrkevr.ecommerce.entity.OrderStatus).ACCEPTED}" class="progress" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
  									<div class="progress-bar" style="width: 20%">ACCEPTED 20%</div>
								</div>
								<!-- PREPARRING -->
								<div th:case="${T(dev.mrkevr.ecommerce.entity.OrderStatus).PREPARRING}" class="progress" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">
  									<div class="progress-bar" style="width: 40%">PREPARRING 40%</div>
								</div>
								<!-- TO SHIP -->
								<div th:case="${T(dev.mrkevr.ecommerce.entity.OrderStatus).TO_SHIP}" class="progress" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">
  									<div class="progress-bar" style="width: 60%">TO SHIP 60%</div>
								</div>
								<!-- TO RECEIVE -->
								<div th:case="${T(dev.mrkevr.ecommerce.entity.OrderStatus).TO_RECEIVE}" class="progress" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">
  									<div class="progress-bar" style="width: 80%">TO RECEIVE 80%</div>
								</div>
								<!-- COMPLETED -->
								<div th:case="${T(dev.mrkevr.ecommerce.entity.OrderStatus).COMPLETED}" class="progress" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
  									<div class="progress-bar" style="width: 100%">COMPETED 100%</div>
								</div>
							</th:block>
						</div>
						
						
						
						
						
						
						<!-- ORDER INFO -->
						<div class="col-xl-6">
							<div class="card mb-3">
								<div class="card-header">
									<i class="fas fa-info-circle me-1"></i><strong>Order Info</strong>
								</div>
								<div class="card-body">
									<div style="font-size: 1rem;">
										<div data-toggle="tooltip" title="User ID">
  											<i class="fas fa-user fa-fw text-primary me-1"></i>
  											<a th:text="${order.userId}" th:href="@{/admin/users/{id}(id=${order.userId})}"></a>
  										</div>
  										<div data-toggle="tooltip" title="Ordered On">
  											<i class="fas fa-calendar-plus fa-fw text-primary me-1"></i>
  											<span th:text="${#temporals.format(order.orderDate, 'MMMM dd, yyyy')}"></span>
  										</div>
  										<div data-toggle="tooltip" title="Delivery Date">
  											<i class="fas fa-calendar-check fa-fw text-primary me-1"></i>
  											<span th:text="${#temporals.format(order.deliveryDate, 'MMMM dd, yyyy')}"></span>
  										</div>
  										<div data-toggle="tooltip" title="Delivery Address">
  											<i class="fas fa-map-marker-alt fa-fw text-primary me-1"></i>
  											<span th:text="${order.deliveryAddress}"></span>
  										</div>
  										<div data-toggle="tooltip" title="Payment Method">
  											<i class="fas fa-cash-register fa-fw text-primary me-1"></i>
  											<span th:text="${order.paymentMethod}"></span>
  										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- PERSONAL INFO END-->
						
						<!-- Message -->
						<div class="col-xl-4">
							<div class="card mb-3">
								<div class="card-header">
									<i class="fas fa-sticky-note me-1"></i><strong>Customer's Message</strong>
								</div>
								<div class="card-body">
									<p th:text="${order.message}" style="white-space: pre-line"></p>
								</div>
							</div>
						</div>
						<!-- History End -->
						
						<!-- Order Items -->
						<div class="col-xl-10">
							<div class="card mb-3">
								<div class="card-header">
									<i class="fas fa-boxes me-1"></i> <strong>Order Item's</strong>
								</div>
								<div class="card-body">
									<table class="table table-hover">
  										<thead>
    										<tr>
     											<th scope="col">ID</th>
      											<th scope="col">Product</th>
      											<th scope="col">Quantity</th>
      											<th scope="col">Unit Price</th>
    										</tr>
  										</thead>
  										<tbody>
    										<tr th:each="item: ${order.orderItems}">
      											<td th:text="${item.id}" />
      											<td><a th:text="${item.productName}" th:href="@{/admin/products/{id}(id=${item.productId})}"></a></td>
      											<td class="text-end" th:text="${item.quantity}"/>
      											<td class="text-end"><span th:text="${#numbers.formatDecimal(item.unitPrice, 0, 'COMMA', 2, 'POINT')}"></span></td>
    										</tr>
  										</tbody>
  										<tfoot>
  											<tr>
  												<td class="text-danger"><strong>Total: </strong></td>
  												<td></td>
												<td class="text-end text-danger"><strong><span th:text="${order.totalItems}"></span></strong></td>
												<td class="text-end text-danger"><strong><span th:text="${#numbers.formatDecimal(order.totalPrice, 0, 'COMMA', 2, 'POINT')}"></span></strong></td>
											</tr>
  										</tfoot>
									</table>
								</div>
							</div>
						</div>
						<!-- Order Items End -->
					</div>
				</div>
			</main>
			
			<!-- Fragment : Footer -->
			<footer th:replace="~{admin/admin-fragments::footer}"></footer>
			
		</div>
	</div>
	
	<!-- Fragment : Scripts -->
	<div th:replace="~{admin/admin-fragments::scripts}"></div>
	
	<!-- PROGRESS BAR -->
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
	
	
</body>
</html>
